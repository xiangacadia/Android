<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      text-align: left;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	pre,code {
		word-wrap: break-word;
	}	
	/*
	table, pre {
		page-break-inside: avoid;
	}
	*/
}
</style>
<title>index.md</title>
</head>
<body>
<h1>有米广告SDK开发者文档</h1>

<h2>1. SDK基本配置</h2>

<h3>1.1 基本配置</h3>

<h4>Step 1. 将 Youmi_Sdk_*.jar 导入您的工程中。</h4>

<blockquote>
<ol>
<li> 右键您的工程根目录，选择“New”，再选择“Folder”，输入Folder name为&quot;libs&quot;</li>
<li> 将 youmi_sdk_*.jar 拷贝到工程根目录的libs文件夹下</li>
<li> 右键 youm_sdk_*.jar ，选择“Build Path”再选择“Add to Build Path”</li>
<li> 导入成功</li>
</ol>
</blockquote>

<h4>Step 2. 在AndroidManifest.xml文件中配置用户权限</h4>

<blockquote>
<p><em>请将下面权限配置代码复制到 AndroidManifest.xml 文件中 :</em></p>

<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt; 
&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; 
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;
&lt;!--以下两个为可选权限--&gt;
&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt; 
</code></pre>
</blockquote>

<h4>Step 3. 在AndroidManifest.xml中添加AdBrowser,AdReceiver和AdService</h4>

<blockquote>
<p><em>请将以下代码复制到AndroidManifest.xml的Application节点里面:</em></p>

<pre><code>&lt;activity
    android:name=&quot;net.youmi.android.AdBrowser&quot;
    android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;            
    android:theme=&quot;@android:style/Theme.Light.NoTitleBar&quot; &gt;
&lt;/activity&gt;
&lt;service
    android:name=&quot;net.youmi.android.AdService&quot;
    android:exported=&quot;false&quot; &gt;
&lt;/service&gt;
&lt;receiver 
    android:name=&quot;net.youmi.android.AdReceiver&quot; &gt;
    &lt;intent-filter&gt;
        &lt;action android:name=&quot;android.intent.action.PACKAGE_ADDED&quot; /&gt;
        &lt;data android:scheme=&quot;package&quot; /&gt;
    &lt;/intent-filter&gt;
&lt;/receiver&gt; 
</code></pre>
</blockquote>

<h3>1.2 调用初始化接口</h3>

<p>请务必在主Activity的onCreate中调用AdManager.getInstance(context).init 接口初始化 App ID 、App Secret和测试模式等参数。</p>

<blockquote>
<p><em>代码示例:</em></p>

<pre><code>package com.test
import android.app.Activity 
import net.youmi.android.AdManager;
import net.youmi.android.offers.OffersManager;
/**
* 这是您的应用的主Activity
*/  
public class YourMainActivity extends Activity { 
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState); 
        // 初始化应用ID和密钥，以及设置测试模式
        AdManager.getInstance(this).init(&quot;您的应用ID&quot;,&quot;您的应用密钥&quot;, false); 
    }
}
</code></pre>

<p><strong>！请将测试模式设置为false后上传至网站等待审核。</strong><br>
<strong>！未上传应用安装包、未通过审核的应用、模拟器运行，都只能获得测试广告，审核通过后，模拟器上依旧是测试广告，真机才会获取到正常的广告。</strong></p>
</blockquote>

<h2>2. 嵌入广告</h2>

<h3>2.1 嵌入积分墙 (可选)</h3>

<blockquote>
<p>请阅读文档 <a href="offers/YoumiOffersSdkDoc.html">《有米积分墙SDK使用教程》</a></p>
</blockquote>

<h3>2.2 嵌入Banner (可选)</h3>

<blockquote>
<p>请阅读文档 <a href="banner/YoumiBannerSdkDoc.html">《有米BannerSDK使用教程》</a></p>
</blockquote>

<h3>2.3 嵌入插播广告 (可选)</h3>

<blockquote>
<p>请阅读文档 <a href="spot/YoumiSpotSdkDoc.html">《有米插播广告SDK使用教程》</a></p>
</blockquote>

<h2>3.实用功能</h2>

<h3>3.1 检查更新接口 (可选)</h3>

<blockquote>
<p>有米广告SDK提供应用版本检查更新接口，开发者可以在应用中调用提示用户升级。<br>
通过在<a href="http://www.youmi.net">有米主站</a>上传应用的新版本通过审核后，使用有米广告SDK的应用版本检查更新接口就可以获得更新信息，它包括更新提示和下载地址，这样您可以进行下一步的操作，如向用户提示更新以及下载安装新版本。</p>

<p><em>代码示例:</em></p>

<pre><code>import net.youmi.android.AdManager;  
import net.youmi.android.dev.AppUpdateInfo;  
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.net.Uri;
import android.os.AsyncTask;
/*
*这里示例一个调用更新应用接口的工具类，由开发者自定义，继承自AsyncTask,可以在主Activity的onCreate中调用。
*
*
public class UpdateHelper extends AsyncTask&lt;Void, Void, AppUpdateInfo&gt; {
private Context mContext; 
public UpdateHelper(Context context) {
    mContext = context;
}
@Override
protected AppUpdateInfo doInBackground(Void... params) { 
    try {
        //在doInBackground中调用AdManager的checkAppUpdate即可从有米服务器获得应用更新信息。
        return AdManager.getInstance(mContext).checkAppUpdate();
    } catch (Throwable e) {
        // TODO: handle exception
        e.printStackTrace();
    }
    return null;
}
@Override
protected void onPostExecute(AppUpdateInfo result) {
    super.onPostExecute(result);
    try {
        if (result == null || result.getUrl() == null) {
            //如果AppUpdateInfo为null或它的url属性为null，则可以判断为没有新版本。
            Toast.makeText(this, &quot;当前版本已经是最新版&quot;, Toast.LENGTH_SHORT).show();
            return;
        } 
        //这里简单示例使用一个对话框来显示更新信息
        new AlertDialog.Builder(mContext)
                .setTitle(&quot;发现新版本&quot;)
                .setMessage(result.getUpdateTips())//这里是版本更新信息
                .setNegativeButton(&quot;马上升级&quot;,
                        new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog,
                                    int which) {
                                Intent intent = new Intent(
                                        Intent.ACTION_VIEW, Uri
                                                .parse(result
                                                        .getUrl())); 
                                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); 
                                mContext.startActivity(intent);
                                //ps:这里示例点击&quot;马上升级&quot;按钮之后简单地调用系统浏览器进行新版本的下载，
                                //但强烈建议开发者实现自己的下载管理流程，这样可以获得更好的用户体验。
                            }
                        })
                .setPositiveButton(&quot;下次再说&quot;,
                        new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialog,
                                    int which) { 
                                dialog.cancel();
                            }
                        }).create().show(); 
            } catch (Throwable e) { 
                e.printStackTrace();
            }
    }
}
</code></pre>
</blockquote>

<h3>3.2 在线配置 (可选)</h3>

<blockquote>
<h4>3.2.1 在线配置介绍</h4>

<blockquote>
<p>在线配置是有米平台推出的新服务，可以让开发者动态修改应用中的配置项，如欢迎语、道具价格、广告开关等等。它以Key-Value的形式使用。</p>
</blockquote>

<h4>3.2.2 使用在线配置</h4>

<blockquote>
<p>开发者可以在<a href="http://www.youmi.net">有米主站</a>开发者面板的应用详情里面设置指定应用的在线配置参数，然后在代码中调用它。接口示例如下:</p>

<p><em>示例代码</em>: </p>

<pre><code>import net.youmi.android.AdManager;   
... 
String key=&quot;mykey&quot;;//key  
String defaultValue=null;//默认的value，当获取不到配置时，会返回该值  
String value=AdManager.getInstance(context).getOnlineConfig(key,
    defaultValue);//调用获取在线配置接口  
... 
</code></pre>
</blockquote>
</blockquote>

<h2>4. 打包发布</h2>

<h3>4.1 配置混淆</h3>

<blockquote>
<p>如果您的项目使用了Proguard混淆打包，请务必在proguard-project.txt中添加以下代码:</p>

<pre><code>-keep class net.youmi.android.** {  
*;  
}  
</code></pre>
</blockquote>

<h3>4.2 打包前检查</h3>

<blockquote>
<h4>4.2.1 检查配置</h4>

<blockquote>
<p>请检查是否已经按文档的步骤嵌入了广告SDK，包括AndroidManifest.xml的配置、初始化接口的调用以及各个广告接口的使用。  </p>
</blockquote>

<h4>4.2.2 测试</h4>

<blockquote>
<p>请在手机上运行测试是否可以正常获取广告。(ps:除了广告方面的测试以外，您还可以尝试<a href="http://www.youmi.net">有米主站</a>开发者面板上面的&quot;应用兼容测试&quot;服务来测试您的应用在各种设备的兼容性)</p>
</blockquote>
</blockquote>

<h3>4.3 上传审核</h3>

<blockquote>
<p>发布前请在<a href="http://www.youmi.net">有米主站</a>上传应用进行审核。审核通过之后请测试是否可以正常获得收入，在<a href="http://www.youmi.net">有米主站</a>开发者面板的收入报表中可以查看收入情况。</p>
</blockquote>

<h2>4.4 发布</h2>

<blockquote>
<p>通过审核并且确认可以获得广告收入之后，就可以正式发布应用了。除了您平时使用的发布渠道以外，您还可以尝试<a href="http://www.youmi.net">有米主站</a>开发者面板上面的&quot;抓猫推广&quot;服务来帮助您的应用推广。</p>
</blockquote>

<h2>5. 常见问题</h2>

<blockquote>
<p>请参考文档 <a href="YoumiSdkFAQ.html">《有米广告SDK常见问题》</a></p>
</blockquote>

<h2>6. 联系我们</h2>

<blockquote>
<p>如果您在使用有米广告SDK的过程中遇到了问题，或者对于SDK有任何宝贵的改进意见，欢迎联系我们的客服Q:8000068081</p>
</blockquote>

</body>
</html>